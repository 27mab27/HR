{% extends 'main.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'styles/login.css' %}">
{% if page == 'Login' %}
<div class="login-box">
    <h2>Login Form</h2>
    <form method="POST" action=""> 
        {% csrf_token %}
        <div class="user-box">
            <input type="text" required name="username" value="{{ request.POST.username }}">
            <label for="">Username</label>
            {% if form.errors.username %}
                <ul class="errorlist">
                    {% for error in form.errors.username %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="user-box">
            <input type="password" required name="password">
            <label for="">Password</label>
            {% if form.errors.password %}
                <ul class="errorlist">
                    {% for error in form.errors.password %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <button type="submit" class="btn-signin">
            <span></span>
            <span></span>
            <span></span>
            <span></span>Submit
        </button>
    </form>
    <p>haven't signed up yet?</p>
    <a href="{% url 'register' %}">Sign Up</a>
</div>
{% else %}
<div class="login-box">
    <h2>Registration Form</h2>
    <form method="POST" action="">
        {% csrf_token %}
        <div class="user-box">
            {{ form.username }}
            <label for="username">Username</label>
            {% if form.errors.username %}
                <ul class="errorlist">
                    {% for error in form.errors.username %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="user-box">
            {{ form.password1 }}
            <label for="password1">Password</label>
            {% if form.errors.password1 %}
                <ul class="errorlist">
                    {% for error in form.errors.password1 %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="user-box">
            {{ form.password2 }}
            <label for="password2">Confirm Password</label>
            <small>Must be at least 8 characters, contain a mix of letters and numbers, and include at least one special character.</small>
            {% if form.errors.password2 %}
                <ul class="errorlist">
                    {% for error in form.errors.password2 %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <button type="submit" class="btn-signin">
            <span></span>
            <span></span>
            <span></span>
            <span></span>Submit
        </button>
    </form>
    <p>Already signed up?</p>
    <a href="{% url 'login' %}">Login</a>
</div>
{% endif %}
{% endblock content %}
